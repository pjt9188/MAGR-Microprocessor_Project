/*
 * UltraSonic.cpp
 *
 * Created: 2020-11-26 오후 1:02:09
 *  Author: English
 */ 

/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/

#include <Arduino.h>
#include "UltraSonic.h"

/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*--------------------------------Enumerations--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*------------------------------Global variables------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*-------------------------Function Prototypes--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*------------------------Private Variables/Constants-------------------------*/
/******************************************************************************/

/******************************************************************************/
/*-------------------------Function Implementations---------------------------*/
/******************************************************************************/

int UltraSonic::measureDistance(){
	digitalWrite (pin_trig_ , LOW); // Clear the trigger
	delayMicroseconds(2);
	digitalWrite (pin_trig_ , HIGH); // Sets the trigger pin to HIGH state for 10 microseconds
	delayMicroseconds(10);
	digitalWrite (pin_trig_ , LOW);

	
	long pulse_input = pulseIn (pin_echo_ , HIGH); // Reads echo pin, returns travel time in microseconds
	int distance = pulse_input * 0.01723;
	return distance;
}